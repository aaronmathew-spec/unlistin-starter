# DB schema checklist (Supabase)

## actions
```sql
create table if not exists actions (
  id bigint generated by default as identity primary key,
  created_at timestamptz default now(),
  updated_at timestamptz default now(),
  broker text not null,
  category text,
  status text not null default 'draft',
  redacted_identity jsonb,
  evidence jsonb,
  draft_subject text,
  draft_body text,
  fields jsonb,
  reply_channel text,
  reply_email_preview text,
  proof_hash text,
  proof_sig text,
  adapter text,
  state text,
  confidence numeric
);
create index if not exists actions_status_idx on actions(status);
create index if not exists actions_created_idx on actions(created_at desc);
create index if not exists actions_adapter_idx on actions(adapter);
